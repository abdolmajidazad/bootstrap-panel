'use strict';

myApp.controllerProvider.register('leftSidebarController', ['$scope', '$rootScope', function ($scope, $rootScope) {
    $scope.contentInformation = {};
    $scope.$on('contentSelectedInformation', function (n, contentInfo, viewType, state) {
        console.log("state : ", state);
        if (!state) return;
        $scope.showTextarea = false;
        var count = contentInfo.length();
        console.log("count", count);
        if (count === 0) {
            $scope.contentInformation = contentInfo;
            $scope.infoContentShow = false;
        } else {
            var viewTypePage = $rootScope.generalData['viewType'] ? 'list' : 'grid';
            if (viewTypePage !== viewType || $scope.contentInformation['Name'] === contentInfo['Name']) return;
            $scope.contentInformation = contentInfo;
            $scope.infoContentShow = true;
        }
        setTimeout(function () {
            $scope.$apply();
        }, 1);
    });

    $scope.toggleTextarea = function () {
        $scope.showTextarea = !$scope.showTextarea;
    };

    document.getElementById('left-sidebar-information').addEventListener('click', function () {});
}]);
